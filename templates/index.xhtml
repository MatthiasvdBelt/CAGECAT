{% extends "base.xhtml" %}
{% from "macros.xhtml" import prev_session %}


{% block title %}multicblaster{% endblock %}
{% block content %}

<div class="modules">
    <button class="moduleSelector" onclick="showModule(event,
    'searchModuleContent')">Search
    </button>
    <button class="moduleSelector"
            onclick="showModule(event, 'gneModuleContent')">Neighbourhood
    </button>
    <button class="moduleSelector"
            onclick="showModule(event, 'extractModuleContent')">Extract
    </button>
</div>
<div id="searchModuleContent" class="moduleContent">
<form method="post" enctype="multipart/form-data" action="{{submit_url}}"
      onsubmit="return validateForm()" name="optionForm">
    <input type="hidden" name="job_type" value="search" required="required"/>

    <label for="inputSection">Input</label>
    <fieldset id="inputSection" disabled="disabled">

        <input type="radio" value="fasta" checked="checked" id="radioFasta"
               name="inputType" onclick="showInputOptions('fasta')">FASTA
        </input>
        <input type="radio" value="ncbi_entries" id="radioNCBIEntries"
               name="inputType"
               onclick="showInputOptions('ncbi_entries')">NCBI entries</input>
        <input type="radio" value="prev_session" id="radioPrevSession"
               name="inputType"
                onclick="showInputOptions('prev_session')">Previous
            search</input>

    <div id="genomeFileUploadDiv">
        <label for="genomeFile">Query</label>
        <input type="file" id="genomeFile" name="genomeFiles"
               required="required"/>
    </div>
    <div id="ncbiEntriesDiv" style="display: none">
        <label for="ncbiEntriesTextArea">NCBI identifiers</label>
        <textarea rows="4" cols="25" id="ncbiEntriesTextArea"
                  name="ncbiEntriesTextArea"
        ></textarea>
    </div>
    {{ prev_session() }}

</fieldset>
    <br/>

    <label for="searchSection">Search</label>
<fieldset id="searchSection">
    <div>
        <label for="database_type">Database</label>
        <input type="text" required="required" name="database_type"
               id="database_type" value="nr"/>
    </div>
    <div>
        <label for="entrez_query">Entrez query</label>
        <input type="text" required="required" name="entrez_query"
               id="entrez_query" value="Aspergillus[organism]"/>
    </div>
    <div>
        <label for="max_hits">Maximum hits</label>
        <input type="number" required="required" name="max_hits"
               id="max_hits" min="1" step="1"
               value="5000"/>
    </div>
</fieldset>
    <br/>
    <label for="filteringSection">Filtering</label>
<fieldset id="filteringSection">
    <div>
        <label for="max_evalue">Max. e-value</label>
        <input type="number" required="required" value="0.01" step="0.01" id="max_evalue"
           name="max_evalue"/>
    </div>
    <div>
        <label for="min_identity">Min. identity (%)</label>
        <input type="number" required="required" value="30"
               id="min_identity" name="min_identity"/>
    </div>

    <div>
        <label for="min_query_coverage">Min. query coverage (%)</label>
        <input type="number" required="required" value="50" id="min_query_coverage"
               name="min_query_coverage"/>
    </div>

</fieldset>
<!--    <div>-->
<!--        <label for="option1">Option 1</label>-->
<!--        <input type="checkbox" id="option1" name="option1" checked="checked"/>-->

<!--    </div>-->
<!--    <div>-->
<!--        <label for="option2">Option 2</label>-->
<!--        <input type="checkbox" id="option2" name="option2" checked="checked"/>-->
<!--    </div>-->

<!--    <fieldset id="optionGroup1">-->
<!--        <legend>Options belonging together</legend>-->
<!--        <label for="option3">Option 3</label>-->
<!--        <input type="checkbox" id="option3" name="option3"/>-->

<!--        <label for="option4">Option 4</label>-->
<!--        <input type="checkbox" id="option4" name="option4" checked="checked"/>-->

<!--        <label for="option5">Option 5</label>-->
<!--        <input type="checkbox" id="option5" name="option5"-->
<!--               onclick="option5change()"/>-->
<!--    </fieldset>-->


<!--    <input type="number" id="e-value" name="e-value" value="0.005"-->
<!--           step="0.001" required="required"/>-->
    <br/>
    <input type="submit" value="Run"/>

<!--    <input type="file" name="image"/>-->
<!--    <input type="submit" value="Upload"/>-->
    </form>
</div>

<div id="gneModuleContent" class="moduleContent" style="display: none"><p>TODO</p></div>
<div id="extractModuleContent" class="moduleContent" style="display: none"><p>TODO</p></div>


        {% endblock %}