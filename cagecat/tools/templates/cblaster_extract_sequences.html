{% extends "base.html" %}
{% from "macros.html" import filtering_section %}
{% from "macros.html" import showNavigationBar %}
{% from "macros.html" import renderHelpButton %}
{% from "macros.html" import showSelectedClusters %}
{% from 'macros.html' import renderJobDetailsInput %}


{% block title %}Extract sequences{% endblock %}

{% block navigationBar %}
    {{ showNavigationBar('analyze') }}
{% endblock %}

{% block content %}
    <h2 class="indent">Extract sequences</h2>
<div>
    <form action="{{url_for('submit_job')}}" method="post">
        <input type="hidden" name="job_type" value="extract_sequences"/>
        <input type="hidden" name="prev_job_id" value="{{prev_job_id}}"/>

        {{ renderJobDetailsInput() }}

        {{ filtering_section('sequences', selected_scaffolds, selected_queries) }}
            <label class="fieldset-label" for="outputSection">Output</label>
            <fieldset id="outputSection">
                <div class="input-layer">
                    <label class="input-label" for="outputDelimiter">Delimiter</label>
                    {{ renderHelpButton('generalDelimiter') }}
                    <input class="short" type="text" id="outputDelimiter" name="outputDelimiter" maxlength="1"/>
                </div>
                <div>
                    <label class="checkbox-label">
                        <input type="checkbox" name="downloadSeqs"/>
                        Download sequences
                    </label>
                    {{ renderHelpButton('downloadSeqs') }}
                </div>
                <div>
                    <label class="checkbox-label">
                        <input type="checkbox" name="nameOnly" onclick="toggleDisabled('outputDelimiter')"/>
                        Name only
                    </label>
                    {{ renderHelpButton('nameOnly') }}
                </div>
            </fieldset>
        <div class="input-layer centered">
                <input class="button" value="Submit" type="submit"/>
        </div>
    </form>
</div>
{% endblock %}