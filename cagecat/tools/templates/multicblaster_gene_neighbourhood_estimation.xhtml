{% extends "base.xhtml" %}
{% from "macros.xhtml" import showNavigationBar %}
{% from "macros.xhtml" import prev_session %}
{% from "macros.xhtml" import result_table %}
{% from "macros.xhtml" import renderHelpButton %}
{% from 'macros.xhtml' import renderJobDetailsInput %}
{% from 'macros.xhtml' import showRequiredInputsText %}

{% block title %}Gene neighbourhood estimation{% endblock %}

{% block navigationBar %}
    {{ showNavigationBar('analyze') }}
{% endblock %}

{% block content %}
    <h2 class="indent">Gene neighbourhood estimation</h2>
    {{  showRequiredInputsText() }}

    <div id="gneModuleContent" class="moduleContent">
        <form method="post" enctype="multipart/form-data" action="{{url_for('submit_job')}}"
              name="gneOptionForm">
            <input type="hidden" name="job_type" value="gne" required="required"/>
            <input type="hidden" name="gneEnteredJobId" value="{{ prev_job_id }}"/>

            {{ renderJobDetailsInput() }}
            {{ result_table('gne', 'Sum') }}

            <label class="fieldset-label" for="gneOptions">Extra options</label>
            <fieldset id="gneOptions">
                <div class="input-layer">
                    <label class="input-label" for="max_intergenic_distance">Max. intergenic distance*</label>
                    {{ renderHelpButton('max_intergenic_distance') }}
                    <input type="number" id="max_intergenic_distance" name="max_intergenic_distance" min="0" max="2500000" value="100000" required="required" step="1"/>
                </div>
                <div class="input-layer">
                    <label class="input-label" for="sample_number">Number of samples*</label>
                    {{ renderHelpButton('sample_number') }}
                    <input type="number" id="sample_number" name="sample_number" value="100" step="1" min="2" max="{{ max_samples }}" required="required"/>
                </div>
                <div class="input-layer">
                    <label class="select-label" for="sampling_space">Sampling space*</label>
                    {{ renderHelpButton('sampling_space') }}
                    <select class="select-options" name="sampling_space" id="sampling_space" required="required">
                        <option name="spaceLinear" value="linear">linear</option>
                        <option name="spaceLog" value="log">log</option>
                    </select>
                </div>
            </fieldset>
            <div class="input-layer centered">
                <input type="submit" value="Submit" class="button" id="submitGNEForm"/>
            </div>
        </form>
    </div>

{% endblock %}